<!DOCTYPE html>
<html lang="pt-br">

<head>
    <title>Document</title>
    <script>
        vetAges = [10, 21, 31, 40];

        sumAges = (vet) => {
            sum = 0;
            for (i = 0; i < vet.length; i++) sum += vet[i];
            return sum;
        }
        
        averageAges = (vet) => {
            return sumAges(vet) / vet.length;
        }

        oldestAge = (vet) => {
            return Math.max(...vet);
        }

        oddAge = (vet) => {
            let impares = [];
            for (let i = 0; i < vet.length; i++) {
                if (vet[i] % 2 !== 0) {
                    impares.push(vet[i]);
                }
            }

            return impares.length > 0 ? impares.join(', ') : 'Nenhuma'; 
        }

        legalAge = (vet) => {
            for (let i = 0; i < vet.length; i++) {
                if (vet[i] < 18) {
                    return false;
                }
            }
            return true;
        }

        var idadeDigitada = parseInt(prompt("Digite uma idade: "));

        checkAge = (vet, idade) => {
            for (let i = 0; i < vet.length; i++) {
                if (vet[i] < idade) {
                    return false;
                }
            }
            return true;
        }

        greaterThan = (vet, idade) =>{
            let greater = [];
            for (let i = 0; i < vet.length; i++) {
                if (vet[i] >= idade) {
                    greater.push(vet[i]);
                }
            }
            return greater;
        }

        averageAgesThan = (vet, idade) => {
            let sum = 0;
            let count = 0;
            for (let i = 0; i < vet.length; i++) {
                if (vet[i] >= idade) {
                    sum += vet[i];
                    count++;
                }
            }
            return count > 0 ? (sum / count).toFixed(3) : 'N/A';
        }

        document.write(`<p>Soma das idades = ${sumAges(vetAges)}</p>`);
        document.write(`<p>Média das idades = ${averageAges(vetAges)}</p>`);
        document.write(`<p>Maior idade = ${oldestAge(vetAges)}</p>`);
        document.write(`<p>Idades ímpares = ${oddAge(vetAges)}</p>`);
        document.write(`<p>Todos são maiores de idade = ${legalAge(vetAges) ? 'Sim' : 'Não'}</p>`);
        document.write(`<p>Todas as idades são maiores ou iguais a ${idadeDigitada} = ${checkAge(vetAges, idadeDigitada) ? 'Sim' : 'Não'}</p>`);

        var greaterOrEqual = greaterThan(vetAges, idadeDigitada);
        document.write(`<p>Idades maiores ou iguais a ${idadeDigitada} = ${greaterOrEqual.length > 0 ? greaterOrEqual.join(', ') : 'Nenhuma'}</p>`);
        document.write(`<p>Média das idades maiores que ${idadeDigitada} = ${averageAgesThan(vetAges, idadeDigitada)}</p>`);

    </script>
</head>

<body>
</body>

</html>
